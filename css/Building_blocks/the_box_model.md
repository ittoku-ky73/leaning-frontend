# ボックスモデル

> 参考：https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/The_box_model

このページでは、CSSのボックスモデルについて詳しく紹介します。
ボックスモデルを理解することで複雑なレイアウトを作成したり、アイテムを他のアイテムと整列させるといったことができるようになります。

## ブロックボックスとインラインボックス

CSSには、タイトルにある通り2種類のボックスがあります。またボックスにもタイプがあり、内部表示タイプと外部表示タイプがあります。

一般に、displayプロパティを使用して表示タイプを設定することができます。

### アウターディスプレイタイプ（外部表示タイプ）

ボックスの外部表示タイプがblockの場合、次のようになる

- 新しい行に分割される。
- widthおよびheightプロパティが尊重される。
- パディング、マージン、境界線により、他の要素がボックスから押し出されます。
  例えば、パディングを4px追加した場合、要素の大きさが`width + 4px`ということになる。
- インライン方向に伸びて、コンテナで使用可能なスペースを埋めます。
  ほとんどの場合、ボックスはコンテナと同じ幅になり、使用可能なスペースの100％埋めます。

ボックスの外部表示タイプがinlineの場合、次のようになる。

- 新しい行に分割されない。
- widthおよびheightプロパティは適用されない。
- 垂直方向のパディング、マージン、境界線は適用されるが、他のインラインボックスがボックスから離れることはない。
- 水平方向のパディング、マージン、境界線は適用され、他のインラインボックスがボックスから離れるようになる。

## インナーディスプレイタイプ

ボックスには、そのボックス内の要素がどのように配置されるかを指示する内部表示タイプがあります。

例えば、`display: flex;`を設定すると内部表示タイプを変更できます。
この要素は、外部表示タイプはblockのままですが、内部表示タイプがflexとなります。
このボックスの直接の子はすべてフレックス アイテムになり、フレックスボックスの仕様に従った動作をするようになります。

## さまざまな表示タイプの例

飛ばす。

## CSSボックスモデルとは

CSSボックスモデルは、ボックスのさまざまな部分（マージン、ボーダー、パディング、コンテンツ）がどのように連携して、ページで表示されるボックスを作成するかを定義しています。

### ボックスモデルの一部

- コンテンツボックス
  - このエリアにはコンテンツが表示されます。
    サイズを変更するときは`inline-size, block-size, width, height`プロパティを使用します。
- パディングボックス
  - これは、コンテンツの周りに余白として配置されます。
    サイズを変更するときは`padding`プロパティを使用します。
- ボーダーボックス
  - これは、コンテンツとパディングを囲むように配置されます。
    サイズを変更するときは`border`プロパティを使用します。
- マージンボックス
  - これは一番外側の層で、余白として上記のボックスを囲むように配置されます
    サイズを変更するときは`margin`プロパティを使用します。

![box-model](https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/The_box_model/box-model.png)

## 標準CSSボックスモデル

このボックスモデルは、指定した要素のパディング、境界線の大きさを足したものがボックスの大きさになります。
標準ボックスモデルはデフォルトで設定されています。

```css
/*
 * このボックスの横幅は、240 + 16 + 16 + 1 + 1の合計となる
 */
.box {
  width: 240px;
  height: 120px;
  margin: 16px;
  padding: 16px;
  border: 1px solid black
}
```

## 代替CSSボックスモデル

このボックスモデルは、指定した要素のコンテンツの大きさがボックスの大きさになります。
また代替ボックスモデルは`box-sizing: border-box;`で定義することができます。

```css
/*
 * このボックスの横幅は、240になります。
 */
.box {
  box-sizing: border-box;
  width: 240px;
  inline-size: 240px;
  height: 120px;
  block-size: 120px;
  margin: 12px;
  padding: 12px;
  border: 1px solid black;
}
```

## ボックスモデルで遊ぶ

飛ばす。

## 開発者ツールを使って、ボックスモデルを見る

ブラウザの開発者ツールを使うことで、選択した要素のボックスモデルを簡単に見ることができます。

![box-model-devtools](https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/The_box_model/box-model-devtools.png)

## マージンとパディングとボーダー

もうすでに`margin, padding, border`プロパティを使ってきていますが、これらの詳細について書いていきます。　

**マージン（margin）**

マージンは、ボックスの周囲にある目に見えない空間です。他の要素をボックスから遠ざける効果があります。
マージンは常に、表示されるボックスのサイズが計算された後に追加されます。

`margin`以外の、マージンを設定するプロパティは次のとおりです。

- margin-top
- margin-right
- margin-bottom
- margin-left

*マージンの折りたたみについて*

例えば2つの要素が隣り合っていて、お互いに重なるようにマージンが設定されている場合、
余白の大きさは2つの要素のマージンの合計ではなく、よりマージンのサイズが大き方の大きさとなる。

**ボーダー（border）**

ボーダーは、マージンとパディングの間の境界線です。ボーダのサイズは、標準ボックスモデルの場合、要素のコンテンツに上乗せする形だが、代替ボックスモデルの場合、要素のコンテンツに組み込まれる形となる。

`border`以外の、マージンを設定するプロパティは次のとおりです。

- border-top
- border-right
- border-bottom
- border-left
- border-width
- border-style
- border-color

また「ボーダーの上の幅」は`border-top-width`や、「ボーダーの下の色」は`border-bottom-color`といったプロパティもある。

**パディング（padding）**

パディングは、境界線とコンテンツの間にある余白です。コンテンツを境界線から遠ざけるために使用されます。
マージンとは違い、マイナスを指定することはできません。背景はパディングの後ろに表示されます。

`padding`以外の、マージンを設定するプロパティは次のとおりです。

- padding-top
- padding-right
- padding-bottom
- padding-left

## ボックスモデルとインラインボックス

上記の全ては、ブロックボックスに完全に適用されます。

### インラインブロックボックスを使用する

`display: inline-block`は特別な値であり、inlineとblockの間のようなものです。「アイテムを新しい行に分割したくないが、重複も避けたい」みたいなときに使用される。

**inline-blockの効果**

- widthとheightが適用される。
- padding, margin, borderは標準ボックスモデルのように振る舞う。

ただし新しい行に割り込むことはなく、width, heightプロパティを追加した場合にのみ割り込みます。

効果的な使い方は、a要素のようなインライン要素に、inline-blockとpaddingを追加してリンクに大きなヒット領域を与えたい場合です。

## まとめ

- displayプロパティを使用して表示タイプやボックスを設定できる。
- `box-sizing: border-box;`を使用すると、要素の大きさが変わる。
- ブラウザの開発者ツールは便利。
- `display: inline-block;`を使用すると、blockとinlineの間のような振る舞いをする。
