# 画像、メディア、フォーム要素

> 参考：https://developer.mozilla.org/ja/docs/Learn/CSS/Building_blocks/Images_media_form_elements

このページでは、画像、音声、動画、フォーム要素などの特定の要素が、CSSでどのように扱われるか見ていきます。

## 置き換え要素

画像と動画は置き換えられた要素として説明されます。これはCSSがこれらの要素の内部レイアウトに影響を与えず、他の要素の中の位置のみに影響を与えるためです。

置き換え要素はアスペクト比を持つものとして記述され、水平方向と垂直方向の両方の寸法を持ち、デフォルトではファイルの本質的な寸法を使って表示されます。

## 画像サイズ

CSSの画像では、ボックスが画像より小さい場合オーバーフローを起こします。そうならないための解決方法として、画像に`max-width: 100%;`にするとボックスに収まります。

しかし最大サイズを設定しただけでは、ボックスに余白が生まれる可能性があります。`object-fit`プロパティを使うと、その余白を制御することができます。

**object-fitのプロパティ**

- `cover`、アスペクト比を維持してボックスにフィットさせます。
- `contain`、画像をそのままの状態で表示させます。デフォルト。
- `fill`、アスペクト比を維持せずボックスにフィットさせます。

## レイアウト内の置き換え要素

置き換え要素にCSSレイアウト手法を用いると、他の要素とは動作が少し異なる場合があります。例えば、グリットレイアウトでは要素は領域全体に拡大されますが、画像の場合、拡大されません。

このような場合の対処は、画像を引き伸ばしたりすると解決しますが、画像が変化するためあまりよい方法ではありません。

```css
img {
  width: 100%;
  height: 100%;
}
```

## フォーム要素

CSSのフォーム要素は少し特殊です。input要素の色々な種類のフィールド、その他に`fieldset, legend`要素などのフォームの一部を格納する要素、ラベルを貼ったりする要素、input要素の必須フィールド、エラーメッセージなど色々あります。

### テキスト入力欄のスタイル

`<input type="text">, <input type="email">, <textarea>`要素などのテキスト入力を可能にする要素はスタイルを整えるのが簡単で、ページ上の他のボックスと同じように振る舞う傾向があります。

しかしデフォルトのスタイルでは、ユーザのOSやブラウザによって異なります。また、フォーム要素のスタイルを変更するときは、それがフォーム要素であることがユーザに理解してもらうことが最重要です。

### 継承とフォーム要素

一部のブラウザでは、デフォルトのフォーム要素のフォントスタイルは継承しない場合があります。そのため、フィールドが親要素で定義されたフォントを使用するようにしたい場合は、ルールを追加する必要があります。

```css
button,
input,
select,
textarea {
  font-family: inherit;
  font-size: 100%;
}
```

### フォーム要素とbox-sizing

ブラウザ間でフォーム要素は様々なウィジェットに対して様々なボックスサイズ設定ルールを使用します。

一貫性を保つために、全ての要素でマージンとパディングを0にし、特定のコントロールをスタイルするときに適時追加するとよいでしょう。

```css
button,
input,
select,
textarea {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}
```

### その他の便利な設定

IEがスクロールバーを表示しないようにする。（IE終了したから多分使わない）

```css
textarea {
  overflow: auto;
}
```

### リセット処理としてまとめる

フォーム要素のデフォルトのスタイルをリセットすることで、作業の一貫性のあるベースを提供できます。

```css
button,
input,
select,
textarea {
  font-family: inherit;
  font-size: 100%;
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

textarea {
  overflow: auto;
} 
```

リセット処理は自分で書く以外にも、すでに他の開発者が作った信頼性のあるコードをコピペする方法もあります。[Normalize.css](http://necolas.github.io/normalize.css/)は非常に人気のあるスタイルシートです。
